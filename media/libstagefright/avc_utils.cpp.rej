--- media/libstagefright/avc_utils.cpp
+++ media/libstagefright/avc_utils.cpp
@@ -456,7 +456,10 @@ bool IsIDR(const sp<ABuffer> &buffer) {
     const uint8_t *nalStart;
     size_t nalSize;
     while (getNextNALUnit(&data, &size, &nalStart, &nalSize, true) == OK) {
-        CHECK_GT(nalSize, 0u);
+        if (nalSize == 0u) {
+            ALOGW("skipping empty nal unit from potentially malformed bitstream");
+            continue;
+        }
 
         unsigned nalType = nalStart[0] & 0x1f;
 
